{% extends 'static/base.html' %}
{%  load static %}
{% load embed_video_tags %}

{% block conteudo %}

    <!-- Header -->
    <div class="banner">
        <video width="440px" loop="true" autoplay="true" controls muted controls poster="assets/esquadrao_capa.webp" class="bg">
            <source src="{% static 'assets/trailer_banner.mp4' %}" type="video/mp4">
            <object>
              <embed src="{% static 'assets/trailer_banner.mp4' %}" type="application/x-shockwave-flash" 
              allowfullscreen="false" allowscriptaccess="always">  		
            </object>
            Formato não suportado  
          </video>
        <div class="content">
            <img src="{% static 'assets/title1.png' %}" class="movieTitle">
            <h4>
                <span>2021</span>
                <span><i>16+</i></span>
                <span>2h 12m</span>
                <span>Ação</span>
            </h4>
            <p>
                O governo envia os supervilões mais perigosos do mundo para a remota ilha de Corto Maltese, repleta de inimigos. Armados com armas de alta tecnologia, eles viajam pela selva perigosa em uma missão de busca e destruição com o Coronel Rick Flag.
            </p>

            <div class="buttons">
                <a href="#"><i class="fa fa-play" aria-hidden = "true"></i>   Play</a>
                <a href="#"><i class="fa fa-plus" aria-hidden = "true"></i>   Minha Lista</a>
            </div>
        </div>
        <div class="banner--fadeBottom"></div>
    </div>

    <!-- Recents Row -->

    <article class="c-carousel">
        <h1 class="title_row">Recentes</h1>
        <div class="c-carousel__slides js-carousel--responsive">
            {% for movie in movies %}
            <div class="c-carousel__slide"><a href=""><img src="{{ movie.poster.url }}"></a></div>
            {% endfor %}
        </div>
        <button aria-label="Previous" class="js-carousel--responsive-prev button-carousel__left">«</button>
        <button aria-label="Next" class="js-carousel--responsive-next button-carousel__rigth">»</button>
        <div class="js-carousel--responsive-dots dots-carousel" role="tablist"></div>
    </article>

    <!-- Category Row -->

    <article class="c-carousel">
        <h1 class="title_row">Marvel</h1>
        <div class="c-carousel__slides js-carousel--responsive-category">
            {% for movie in movies %}
            <div class="c-carousel__slide"><a href=""><img src="{{ movie.poster.url }}"></a></div>
            {% endfor %}
        </div>
        <button aria-label="Previous" class="js-carousel--responsive-category-prev button-carousel__left">«</button>
        <button aria-label="Next" class="js-carousel--responsive-category-next button-carousel__rigth">»</button>
        <div class="js-carousel--responsive-category-dots dots-carousel" role="tablist"></div>
    </article>

    <!-- Modal -->

    {% for movie in movies %}
    {% if forloop.first %}
    <div class="modal">
        <video loop="true" autoplay="true" controls muted controls>
            <source src="{{ movie.media.url }}" type="video/mp4"> 
        </video>
        <div class="first_row">
            <button class="play">
                <span class="material-symbols-outlined">
                    play_arrow
                </span>
            </button>
            <button class="favorite">
                <span class="material-symbols-outlined">
                    favorite
                </span>
            </button>
            <button class="info">
                <span class="material-symbols-outlined">
                    expand_more
                </span>
            </button>
        </div>
        <div class="info_media">
            <span class="classification">+{{ movie.getClassification }}</span>
            <span class="duration">{{ movie.getDuration }}h</span>
            <span class="category">{{ movie.getCategory }}</span>
        </div>
    </div>
    {% endif %}
    {%  endfor %}

{% endblock %}