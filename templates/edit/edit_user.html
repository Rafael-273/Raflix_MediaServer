{% extends 'static/base.html' %}
{%  load static %}

{% block title %}

Edit User

{% endblock %}

{% block head %}

    <link rel="stylesheet" href="/static/css/cadastro.css">

{% endblock %}

{% block conteudo %}

    <div class="div_create">
        <div class="create_body">
            <h1>Edit User</h1>
            <div class="scrool_info">
                <form method="post" enctype="multipart/form-data">
                    {% csrf_token %}
                    {% for field in form %}
                    
                        <label for="{{ field.id_for_label }}">{{ field.label }}:</label>
                        {{ field }}

                        {% if "Photo" in field.label %}
                        <label class="input-file-trigger input-photo" for="{{ form.photo.id_for_label }}">Selecione a Foto</label>
                        {% endif %}

                        {% for error in field.errors %}
                            <div class="error-message">{{ error }}</div>
                        {% endfor %}

                    {% endfor %}
            </div>
            <br>
            <button type="submit">Save</button>
            </form>
        </div>
    </div>

    <script>
        var fileInputPhoto = document.getElementById("id_photo");
        var label_media = document.querySelector(".input-photo");

        fileInputPhoto.addEventListener("change", function() {
        if (fileInputPhoto.value) {
            var fileName = fileInputPhoto.value.split("\\").pop();
            label_media.innerHTML = fileName;
        } else {
            label_media.innerHTML = "Selecione um Filme";
        }
        });
        
    </script>   
  
{% endblock %}